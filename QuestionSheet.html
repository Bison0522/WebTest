<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <Sheet1>
    <link rel="stylesheet" href="QuestionStyle.css">
  </head>
  <body>
    <div class="vectrical">
      <div class="text1" id="text1">漢字</div>
      <div class="text2" id="text2">漢字</div>
      <div class="text3" id="text3">漢字</div>
    </div><br>

    <input type="button" class="buttonposAns" onclick="location.href='https://bison0522.github.io/WebTest/AnswerSheet.html'" value="回答する">
    <input type="button" class="buttonposSkip" onclick="location.href='https://bison0522.github.io/WebTest/QuestionSheet.html'" value="スキップ">


    <script>
    window.onload = function(){
      let qcsv = [];
      let qarr = [];
      let lcsv = [];
      let larr = [];
      getCsv("Questions.csv", qcsv);
      csvArr(qcsv, qarr);
      //checkAns(qarr);
      //getCsv("Log.csv", lcsv);
      //csvArr(lcsv, larr);
    }
    
    function arrcpy(src, dst){
      for (let i = 0; i < src.length; i++){
        dst[i] = src[i];
      }
    }
      
    function getCsv(data, dst){
      let xhr = new XMLHttpRequest(); 
      xhr.open("GET",data,true);
      xhr.onload = function (e) {
          if (xhr.readyState === 4) {
              if (xhr.status === 200) {
                dst  = new String(xhr.responseText);
              } 
              else {
                console.error(xhr.statusText);
              }
          }
      };
      xhr.send(null);
    }
    
    function csvArr(dataArr, dst){
      console.log(dataArr);
      //let list = dataArr.split('\n');
      //for(let i = 0; i <list.length; i++){
      //  dst[i] = list[i].split(',');
      //}
    }
    
    function checkAns(dataList){
      let i = dataList.length - 2;
      let num = getRandomInt(1, i);
    
      let text1 = document.getElementById("text1");
      let text2 = document.getElementById("text2");
      let text3 = document.getElementById("text3");
      text1.innerHTML = dataList[num][1];
      text2.innerHTML = dataList[num][2];
      text3.innerHTML = dataList[num][3];
    }
    
    function getRandomInt(min, max) {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min) + min); 
    }
    </script>
  </body>
</html>
